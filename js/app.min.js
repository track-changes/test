let wrapper=document.getElementById("wrapper"),lastFunction=null;function showElement(t){[".js-sectionRef",".js-sectionBattle",".js-sectionFarming",".js-sectionPredict",".js-sectionWallet",".js-sectionUser",".js-sectionSettings"].forEach(e=>{e=document.querySelector(e);e&&(e.classList.contains(t)?e.classList.remove("hide"):e.classList.add("hide"))})}function scrollToTop(){window.scrollTo({top:0})}function showRef(){lastFunction="showRef",showElement("js-sectionRef"),wrapper.className="",wrapper.classList.add("ref-screen")}function showFarming(){lastFunction="showFarming",showElement("js-sectionFarming"),wrapper.className="",wrapper.classList.add("farming-screen")}function showBattle(){lastFunction="showBattle",showElement("js-sectionBattle"),wrapper.className="",wrapper.classList.add("battle-screen")}function showPredict(){showElement("js-sectionPredict"),lastFunction="showPredict",wrapper.className="",wrapper.classList.add("predict-screen");document.querySelector(".js-navList").querySelectorAll(".js-navItem").forEach(e=>e.classList.remove("active")),document.querySelector('.js-navItem[data-nav="predict"]').classList.add("active");var e=getCookie("hasSeenPredictPopup");if(!e){let t=document.querySelector("#popup-beta"),s=(t.classList.remove("hide"),t.classList.add("block"),wrapperFixPosition(),t.querySelector("button"));t.addEventListener("change",function(e){"checkbox"===e.target.type&&(e=t.querySelectorAll('input[type="checkbox"]'),e=Array.from(e).every(e=>e.checked),s.disabled=!e)}),s.addEventListener("click",function(){setCookie("hasSeenPredictPopup","true",365),t.classList.add("decrease"),setTimeout(()=>{t.classList.remove("block"),t.classList.add("hide"),t.classList.remove("decrease"),wrapperUnfixPosition()},350)})}}function showSettings(){showElement("js-sectionSettings"),wrapper.className="",wrapper.classList.add("settings-screen")}function showUser(){showElement("js-sectionUser"),wrapper.className="",wrapper.classList.add("user-screen")}function showWallet(){lastFunction="showWallet",showElement("js-sectionWallet"),wrapper.className="",wrapper.classList.add("wallet-screen")}function goBack(){lastFunction&&window[lastFunction]()}showPredict();let TWO_PI=2*Math.PI,HALF_PI=.5*Math.PI,confettiAnimate=!1;var drawingCanvas,ctx,viewWidth=2*window.innerWidth,viewHeight=1.5*window.innerHeight,timeStep=1/90;function Point(e,t){this.x=e,this.y=t}function Particle(e,t,s,i){this.p0=e,this.p1=t,this.p2=s,this.p3=i,this.time=0,this.duration=3+2*Math.random(),this.color="#"+Math.floor(16777215*Math.random()).toString(16),this.w=4+8*Math.random(),this.h=4+8*Math.random(),this.complete=!1}Particle.prototype={update:function(){this.time=Math.min(this.duration,this.time+timeStep);var e=Ease.outCubic(this.time,0,1,this.duration),t=cubeBezier(this.p0,this.p1,this.p2,this.p3,e),s=t.x-this.x,i=t.y-this.y;this.r=Math.atan2(i,s)+HALF_PI,this.sy=Math.sin(Math.PI*e*10),this.x=t.x,this.y=t.y,this.complete=this.time===this.duration},draw:function(){ctx.save(),ctx.translate(this.x,this.y),ctx.rotate(this.r),ctx.scale(1,this.sy),ctx.fillStyle=this.color,ctx.fillRect(.5*-this.w,.5*-this.h,this.w,this.h),ctx.restore()}};var particles=[];function initDrawingCanvas(){(drawingCanvas=document.createElement("canvas")).id="confetti",drawingCanvas.width=viewWidth,drawingCanvas.height=viewHeight,document.body.appendChild(drawingCanvas),ctx=drawingCanvas.getContext("2d"),createParticles(),requestAnimationFrame(loop)}function createParticles(){for(var e=0;e<128;e++){var t=new Point(.5*viewWidth,.5*viewHeight),s=new Point(Math.random()*viewWidth,Math.random()*viewHeight),i=new Point(Math.random()*viewWidth,Math.random()*viewHeight),n=new Point(Math.random()*viewWidth,viewHeight+64);particles.push(new Particle(t,s,i,n))}}function update(){particles.forEach(function(e,t){e.update(),e.complete&&particles.splice(t,1)}),0===particles.length&&(document.body.removeChild(drawingCanvas),confettiAnimate=!1)}function draw(){ctx.clearRect(0,0,viewWidth,viewHeight),particles.forEach(function(e){e.draw()})}function startConfettiAnimation(){confettiAnimate||(confettiAnimate=!0,initDrawingCanvas())}function loop(){update(),draw(),requestAnimationFrame(loop)}var Ease={inCubic:function(e,t,s,i){return s*(e/=i)*e*e+t},outCubic:function(e,t,s,i){return e/=i,s*(--e*e*e+1)+t},inOutCubic:function(e,t,s,i){return(e/=i/2)<1?s/2*e*e*e+t:s/2*((e-=2)*e*e+2)+t},inBack:function(e,t,s,i,n){return s*(e/=i)*e*(((n=n||1.70158)+1)*e-n)+t}};function cubeBezier(e,t,s,i,n){var a=new Point,o=1-n;return a.x=o*o*o*e.x+3*o*o*n*t.x+3*o*n*n*s.x+n*n*n*i.x,a.y=o*o*o*e.y+3*o*o*n*t.y+3*o*n*n*s.y+n*n*n*i.y,a}function formatInputDecimal(e){e=e.target;e.value=e.value.replace(/,/g,".");let t=e.value.replace(/[^0-9.]/g,"");var s=t.indexOf(".");-1!==s&&(t=t.substring(0,s+1)+t.substring(s+1).replace(/\./g,"")),e.value=t}function formatDecimalResult(e){var e=e.target,t=e.value.replace(/[^0-9.]/g,""),s=t.indexOf(".");let i=t,n="";-1!==s&&(i=t.substring(0,s),n=t.substring(s));t=i.replace(/\B(?=(\d{3})+(?!\d))/g," ");e.value=n?""+t+n:t}function formatDecimal(e){var t=(e=(e=e.toString().replace(/,/g,".")).replace(/[^0-9.]/g,"")).indexOf("."),t=(e=-1!==t?e.substring(0,t+1)+e.substring(t+1).replace(/\./g,""):e).split(".");return t[0].replace(/\B(?=(\d{3})+(?!\d))/g," ")+(t[1]?"."+t[1]:"")}document.body.addEventListener("click",async t=>{if(t.target.classList.contains("js-copyBtn")){t=t.target.closest(".js-copyWrap").querySelector(".js-copyText");let e="";e="INPUT"===t.tagName?t.value:t.hasAttribute("data-copy")?t.getAttribute("data-copy"):t.textContent;try{await navigator.clipboard.writeText(e),createNotification("default","Скопировано в буфер обмена",3)}catch(e){console.error("Ошибка при копировании текста: ",e),createNotification("warning","Не удалось скопировать в буфер обмена",3)}}});let forms=document.querySelectorAll(".js-form"),notificationCount=(forms.forEach(e=>{e.addEventListener("click",e=>{var t,e=e.target;if(e.matches(".js-inputPaste")){let t=e.closest(".js-inputWrap").querySelector(".js-inputField"),s=e.closest(".js-inputWrap").querySelector(".js-inputClear");navigator.clipboard.readText().then(e=>{t.value=e,s.classList.add("active")}).catch(e=>{createNotification("warning","Отсутствует доступ ",3)})}e.matches(".js-inputClear")&&("INPUT"===(t=e.closest(".js-inputWrap").querySelector(".js-inputField")).tagName?t.value="":(t.textContent="",t.textContent=t.getAttribute("data-placeholder")),e.classList.remove("active"))}),e.querySelectorAll(".js-inputField").forEach(e=>{let t=e.closest(".js-inputWrap").querySelector(".js-inputClear");t&&e.addEventListener("input",()=>{e.value?t.classList.add("active"):t.classList.remove("active")})})}),0);function createNotification(e,t,s,i){if(0===notificationCount){let e=document.createElement("div");e.classList.add("notifications"),document.body.appendChild(e)}let n=document.createElement("div");n.classList.add("notification"),e&&e.split(" ").forEach(function(e){n.classList.add(e)});e=document.createElement("h5");e.textContent=t,n.appendChild(e),void 0!==i&&((t=document.createElement("p")).textContent=i,n.appendChild(t));let a=document.querySelector(".notifications");return a.appendChild(n),notificationCount++,setTimeout(function(){n.classList.add("up")},1e3*s-200),setTimeout(function(){var e;n.remove(),0===--notificationCount&&(e=document.querySelector(".notifications"))&&e.remove()},1e3*s),n}function openPopup(e){document.querySelectorAll(".js-popup").forEach(e=>{e.classList.add("hide"),wrapperUnfixPosition()});e=e.getAttribute("data-popup"),e=document.querySelector("#"+e);e.classList.remove("hide"),e.classList.add("block"),wrapperFixPosition()}function closePopup(e){let t=e.closest(".js-popup");t.classList.add("decrease"),setTimeout(()=>{t.classList.remove("block"),t.classList.add("hide"),t.classList.remove("decrease"),wrapperUnfixPosition()},350)}function handlePopupActions(e){(e.target.classList.contains("js-popupOpen")?openPopup:e.target.classList.contains("js-popupClose")?closePopup:function e(t){return t.classList.contains("js-popupOpen")?(openPopup(t),!0):t.parentNode!==document.body&&e(t.parentNode)})(e.target)}function wrapperFixPosition(){let t=document.querySelectorAll(".js-fixBlock"),s=window.innerWidth-document.querySelector("body").offsetWidth+"px";setTimeout(function(){var e;document.querySelector("body").hasAttribute("wrapper-body-scroll-fix")||(e=window.pageYOffset||document.documentElement.scrollTop,t.forEach(e=>{e.style.paddingRight=s}),document.querySelector("body").style.overflow="hidden",document.querySelector("body").setAttribute("wrapper-body-scroll-fix",e),document.querySelector("body").style.overflow="hidden",document.querySelector("body").style.position="fixed",document.querySelector("body").style.top="-"+e+"px",document.querySelector("body").style.left="0",document.querySelector("body").style.width="100%",document.querySelector("body").style.paddingRight=s)},15)}function wrapperUnfixPosition(){var e,t=document.querySelectorAll(".js-fixBlock");document.querySelector("body").hasAttribute("wrapper-body-scroll-fix")&&(e=document.querySelector("body").getAttribute("wrapper-body-scroll-fix"),document.querySelector("body").removeAttribute("wrapper-body-scroll-fix"),document.querySelector("body").style.overflow="",document.querySelector("body").style.position="",document.querySelector("body").style.top="",document.querySelector("body").style.left="",document.querySelector("body").style.width="",window.scroll(0,e),t.forEach(e=>{e.style.paddingRight="0px"}),document.querySelector("body").style.paddingRight="0px")}document.addEventListener("click",handlePopupActions),document.addEventListener("keydown",function(e){27===e.keyCode&&document.querySelectorAll(".js-popup").forEach(e=>{e.classList.add("decrease"),setTimeout(()=>{e.classList.remove("block"),e.classList.add("hide"),e.classList.remove("decrease"),wrapperUnfixPosition()},350)})}),document.addEventListener("click",function(e){let t=document.querySelector(".js-popup.block");t&&e.target.classList.contains("js-popup")&&(t.classList.add("decrease"),setTimeout(()=>{t.classList.remove("block"),t.classList.add("hide"),t.classList.remove("decrease"),wrapperUnfixPosition()},350))});var preloaderSmall={start:function(){document.body.insertAdjacentHTML("afterbegin",'<div class="preloader-small"><div class="preloader-small__spinner"></div></div>')},stop:function(){var e=document.querySelector(".preloader-small");e&&e.remove()}},preloader={start:function(){document.body.insertAdjacentHTML("afterbegin",'<div class="preloader"><div class="preloader__img"><img src="img/icons/logo-green.svg" alt=""></div><div class="preloader__line"></div>')},stop:function(){var e=document.querySelector(".preloader");e&&e.remove()}};function getRandomNumber(e,t){return Math.floor(Math.random()*(t-e+1))+e}let subsections=document.querySelector(".js-subsections"),openSubsectionBtns=document.querySelectorAll(".js-openSubsection");function closeSubsections(){document.querySelectorAll(".js-subsection").forEach(e=>{e.classList.add("hide")})}openSubsectionBtns.forEach(e=>{e.addEventListener("click",e=>{e=e.target.getAttribute("data-subsection"),e=document.querySelector("#"+e);e.classList.remove("hide"),e.classList.add("block"),showElement(""),wrapper.className="",wrapper.classList.add("subsection-screen")})}),subsections.addEventListener("click",e=>{var t,e=e.target;e.matches(".js-customOption")&&(e.closest(".js-customSelecting").querySelectorAll(".js-customOption").forEach(e=>e.classList.remove("selected")),e.classList.add("selected")),e.matches(".js-copiedContent")&&(e.closest(".js-customSelecting").querySelectorAll(".js-customOption").forEach(e=>e.classList.remove("selected")),e.classList.add("selected")),e.matches(".js-transferContent")&&(t=e.closest(".js-subsection").querySelector(".js-customOption.selected"),e=e.getAttribute("data-transfer"),e=document.querySelector(`[data-transfer="${e}"]`),t&&(t=t.querySelector(".js-copiedContent").innerHTML,e.innerHTML=t),closeSubsections(),showWallet())});let tabs=document.querySelectorAll(".js-tab"),isAnimating=!1;function openTab(t){var e=Array.from(tabs).find(e=>e.dataset.tab===t);e&&!e.classList.contains("active")&&e.click()}tabs.forEach(t=>{t.addEventListener("click",()=>{if(!isAnimating){isAnimating=!0;var e=t.closest(".js-tabs").querySelectorAll(".js-tab");e.forEach(e=>e.classList.remove("active")),e.forEach(e=>e.removeAttribute("inert")),t.classList.add("active"),t.setAttribute("inert","");let i=t.dataset.tab;e=t.closest(".js-tabs").dataset.tabs,e=document.querySelector(`.js-tabsWrap[data-tabs="${e}"]`),e=Array.from(e.querySelectorAll(".js-tabContent"));let n=e.find(e=>!e.classList.contains("hide")),a=e.indexOf(n)+1;e.forEach((e,t)=>{var s=e.dataset.tab===i;e.classList.remove("to-right","to-left","out"),s?(e.classList.remove("hide"),t+1>a?(e.classList.add("to-right"),n.classList.add("out-left")):(e.classList.add("to-left"),n.classList.add("out-right"))):(e.classList.add("out"),setTimeout(()=>{e.classList.add("hide"),e.classList.remove("out","out-right","out-left")},300))}),setTimeout(()=>{isAnimating=!1},300)}})});let tooltipWraps=document.querySelectorAll(".js-tooltipWrap");function setCookie(e,t,s){s=new Date(Date.now()+864e5*s).toUTCString();document.cookie=e+"="+encodeURIComponent(t)+"; expires="+s+"; path=/"}function getCookie(s){return document.cookie.split("; ").reduce((e,t)=>{t=t.split("=");return t[0]===s?decodeURIComponent(t[1]):e},"")}tooltipWraps.forEach(e=>{e.addEventListener("click",function(e){this.classList.toggle("active"),e.stopPropagation()})}),document.addEventListener("click",function(){tooltipWraps.forEach(e=>{e.classList.remove("active")})});let openBattle=document.querySelectorAll(".js-openBattle"),sectionBattle=(openBattle.forEach(function(e){e.addEventListener("click",function(){showBattle()})}),document.querySelector(".js-sectionBattle")),battleMain=sectionBattle.querySelector(".js-battleMain"),battleHistory=sectionBattle.querySelector(".js-battleHistory"),battleDetails=sectionBattle.querySelector(".js-battleDetails"),openBattleDetails=sectionBattle.querySelector(".js-openBattleDetails"),openButtonHistory=sectionBattle.querySelector(".js-openButtonHistory"),sections={main:battleMain,history:battleHistory,details:battleDetails};function openSection(e){Object.values(sections).forEach(e=>e.classList.add("hide")),sections[e]&&sections[e].classList.remove("hide"),scrollToTop()}sectionBattle.addEventListener("click",function(e){e=e.target;e===openButtonHistory?openSection("history"):e===openBattleDetails&&openSection("details")}),document.querySelector(".js-openSettings").addEventListener("click",function(){showSettings(),navList.querySelectorAll(".js-navItem").forEach(e=>e.classList.remove("active")),closeSubsections()}),document.querySelector(".js-openUser").addEventListener("click",function(){showUser(),navList.querySelectorAll(".js-navItem").forEach(e=>e.classList.remove("active")),closeSubsections()});let navList=document.querySelector(".js-navList"),navFunctions={wallet:showWallet,ref:showRef,battle:showBattle,farming:showFarming,predict:showPredict},predictExport=(navList.addEventListener("click",function(e){var e=e.target.closest(".js-navItem"),t=document.querySelector(".js-popup.block");t&&closePopup(t),e&&((t=e.getAttribute("data-nav"))in navFunctions&&navFunctions[t](),navList.querySelectorAll(".js-navItem").forEach(e=>e.classList.remove("active")),e.classList.add("active"),closeSubsections())}),document.getElementById("predict-export")),exportUserInfo=document.querySelector(".js-exportUserInfo"),exportNicknameCheckbox=document.querySelector(".js-exportNicknameCheckbox"),openPredictHistory=(predictExport.addEventListener("click",function(e){e.target===exportNicknameCheckbox&&exportUserInfo.classList.toggle("hide",!exportNicknameCheckbox.checked)}),document.querySelector(".js-openPredictHistory")),predictHistory=document.querySelector(".js-predictHistory"),sectionPredict=document.querySelector(".js-sectionPredict"),predictMain=document.querySelector(".js-predictMain"),predictChart=predictMain.querySelector(".js-predictChart"),radioButtons=predictMain.querySelectorAll(".js-intervalBtn"),amountMaxBtn=document.querySelector(".js-amountMaxBtn"),predictCheckbox=predictMain.querySelector(".js-predictCheckbox"),range=document.getElementById("range"),betAmount=document.querySelector(".js-betAmount"),availableFoundsElement=document.querySelector(".js-availableFounds"),openWalletDeposit=predictMain.querySelector(".js-openWalletDeposit"),convertedElement=predictMain.querySelector(".js-convertedVal"),rangeLabels=predictMain.querySelector(".js-rangeLabels"),convertedVal=convertedElement.getAttribute("data-rate"),availableFounds,dotsElements,isInputChanging=!1;function formatInputValue(e){var t=(e=(e=e.replace(/[,]/g,".")).replace(/[^0-9.]/g,"")).split(".");return 2<t.length&&(e=t[0]+"."+t[1]),e=(e=2===t.length&&1<t[1].length?t[0]+"."+t[1].substring(0,1):e).replace(/^0{2,}/,"0")}function addEventListeners(){range.noUiSlider.on("update",handleSliderUpdate),range.noUiSlider.on("start",handleSliderStart),range.noUiSlider.on("end",handleSliderEnd),amountMaxBtn.addEventListener("click",handleMaxButtonClick)}function removeEventListeners(){range.noUiSlider.off("update",handleSliderUpdate),range.noUiSlider.off("start",handleSliderStart),range.noUiSlider.off("end",handleSliderEnd),amountMaxBtn.removeEventListener("click",handleMaxButtonClick)}function updateCovertedText(e){convertedElement.textContent=(convertedVal*e).toFixed(2)}function addDots(){let e=[100,75,50,25,0];range.querySelectorAll(".noUi-connects").forEach(s=>{e.forEach(e=>{var t=document.createElement("div");t.classList.add("predict__range-dot"),t.setAttribute("data-dot",e),s.prepend(t)}),dotsElements=s.querySelectorAll(".predict__range-dot")})}function handleSliderUpdate(e,t){var s;isInputChanging||(s=parseFloat(e[t]),isNaN(s)||(betAmount.value=formatInputValue(e[t])),e=s/availableFounds*100,updateDotClasses(e=Math.ceil(e)),updateCovertedText(s))}function handleSliderStart(){var e=range.querySelector(".noUi-tooltip");e&&(e.style.display="block")}function handleSliderEnd(){var e=range.querySelector(".noUi-tooltip");e&&(e.style.display="none")}function handleMaxButtonClick(){range.noUiSlider.updateOptions({start:[availableFounds]})}function initializeSlider(){var e=availableFoundsElement.getAttribute("data-available");let t=parseFloat(e);100<=t&&(t=100),availableFounds=t,range.noUiSlider&&(removeEventListeners(),range.noUiSlider.destroy()),noUiSlider.create(range,{start:[.1],tooltips:[{to:function(e){return(e/availableFounds*100).toFixed(0)+"%"}}],connect:"lower",step:.1,range:{min:[.1],max:[availableFounds]},format:{to:function(e){return e.toFixed(1)},from:function(e){return Number(e)}}}),addDots(),addEventListeners(),t<.1?(betAmount.disabled=!0,removeEventListeners(),range.noUiSlider.destroy(),rangeLabels.classList.add("hide")):(rangeLabels.classList.remove("hide"),betAmount.disabled=!1)}function updateDotClasses(s){dotsElements.forEach(e=>{var t=parseFloat(e.getAttribute("data-dot"));e.classList.remove("white"),t<s&&e.classList.add("white")})}function uncheckIntervalBtn(){radioButtons.forEach(e=>{e.checked&&(e.checked=!1)})}function animateLiveLine(e,t){let s=document.querySelector(".js-predictLiveLine");var i=new Date,i=new Date(i.getTime()+6e4*i.getTimezoneOffset()),t=new Date(t),t=new Date(t.getTime()+6e4*t.getTimezoneOffset());let n=Math.max((t.getTime()-i.getTime())/1e3,0);e=new Date(e),e=new Date(e.getTime()+6e4*e.getTimezoneOffset()),i=Math.max((i.getTime()-e.getTime())/1e3,0);let a=(t.getTime()-e.getTime())/1e3;if(i>a)s.style.width="100%";else{t=i/a*100;n,a,s.style.width=t+"%";{let t=setInterval(()=>{var e;n<=0?clearInterval(t):(n--,e=(a-n)/a*100,s.style.width=e+"%")},1e3)}}}function backToPredictMain(){predictMain.classList.remove("hide"),predictHistory.classList.add("hide"),scrollToTop()}betAmount.addEventListener("input",function(){isInputChanging=!0;var e=formatInputValue(this.value),t=(updateCovertedText(this.value=e),parseFloat(e));isInputChanging=(""===e||isNaN(t)?(range.noUiSlider.updateOptions({start:[.1]}),updateDotClasses(0)):t>availableFounds?(this.value=Number(availableFounds).toLocaleString("ru-RU").replace(/,/g,"."),range.noUiSlider.updateOptions({start:[availableFounds]})):(range.noUiSlider.updateOptions({start:[t]}),e=t/availableFounds*100,updateDotClasses(e=Math.ceil(e))),!1)}),predictCheckbox.addEventListener("change",function(){predictCheckbox.checked?predictMain.classList.add("boost"):predictMain.classList.remove("boost")}),initializeSlider(),sectionPredict.addEventListener("click",function(e){e.target===openPredictHistory&&(predictMain.classList.add("hide"),predictHistory.classList.remove("hide"),scrollToTop())}),openWalletDeposit.addEventListener("click",function(){showWallet(),showWalletElement("js-walletDeposit"),navList.querySelectorAll(".js-navItem").forEach(e=>e.classList.remove("active")),document.querySelector('.js-navItem[data-nav="wallet"]').classList.add("active")});var VanillaTilt=function(){class s{constructor(e,t={}){this.width=null,this.height=null,this.clientWidth=null,this.clientHeight=null,this.left=null,this.top=null,this.transitionTimeout=null,this.updateCall=null,this.event=null,this.updateBind=this.update.bind(this),this.resetBind=this.reset.bind(this),this.element=e,this.settings=this.extendSettings(t),this.resetToStart=s.isSettingTrue(this.settings["reset-to-start"]),this.elementListener=this.element,this.addEventListeners(),this.reset()}static isSettingTrue(e){return""===e||!0===e||1===e}addEventListeners(){this.onMouseEnterBind=this.onMouseEnter.bind(this),this.onMouseClickBind=this.onMouseClick.bind(this),this.onTouchStartBind=this.onTouchStart.bind(this),this.elementListener.addEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.addEventListener("click",this.onMouseClickBind),this.elementListener.addEventListener("touchstart",this.onTouchStartBind)}onTouchStart(e){this.updateElementPosition(),this.element.style.willChange="transform",this.setTransition(),null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(()=>{this.updateBind(),setTimeout(()=>{this.resetBind()},this.settings.speed)})}onMouseEnter(){this.updateElementPosition(),this.element.style.willChange="transform",this.setTransition()}onMouseClick(){this.updateElementPosition(),this.element.style.willChange="transform",this.setTransition(),null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.event=event,this.updateCall=requestAnimationFrame(()=>{this.updateBind(),setTimeout(()=>{this.resetBind()},this.settings.speed)})}reset(){this.onMouseEnter(),this.event={clientX:this.left+(0+this.settings.max)/(2*this.settings.max)*this.width,clientY:this.top+(0+this.settings.max)/(2*this.settings.max)*this.height};var e=this.settings.scale;this.settings.scale=1,this.update(),this.settings.scale=e}getValues(){let e,t;e=(this.event.clientX-this.left)/this.width,t=(this.event.clientY-this.top)/this.height,this.event.touches&&(e=(this.event.touches[0].clientX-this.left)/this.width,t=(this.event.touches[0].clientY-this.top)/this.height),e=Math.min(Math.max(e,0),1),t=Math.min(Math.max(t,0),1);var s=(-1*(this.settings.max-e*this.settings.max*2)).toFixed(2),i=(-1*(t*this.settings.max*2-this.settings.max)).toFixed(2),n=Math.atan2(this.event.clientX-(this.left+this.width/2),-(this.event.clientY-(this.top+this.height/2)))*(180/Math.PI);return{tiltX:s,tiltY:i,percentageX:100*e,percentageY:100*t,angle:n}}updateElementPosition(){var e=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=e.left,this.top=e.top}update(){var e=this.getValues();this.element.style.transform="perspective("+this.settings.perspective+"px) rotateX("+("x"===this.settings.axis?0:e.tiltY)+"deg) rotateY("+("y"===this.settings.axis?0:e.tiltX)+"deg) scale3d("+this.settings.scale+", "+this.settings.scale+", "+this.settings.scale+")",this.element.dispatchEvent(new CustomEvent("tiltChange",{detail:e})),this.updateCall=null}setTransition(){clearTimeout(this.transitionTimeout),this.element.style.transition=this.settings.speed+"ms "+this.settings.easing,this.transitionTimeout=setTimeout(()=>{this.element.style.transition=""},this.settings.speed)}extendSettings(e){var t,s={max:11,perspective:5e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:1,speed:100,transition:!0,reset:!0,"reset-to-start":!0},i={};for(t in s)if(t in e)i[t]=e[t];else if(this.element.hasAttribute("data-tilt-"+t)){var n=this.element.getAttribute("data-tilt-"+t);try{i[t]=JSON.parse(n)}catch(e){i[t]=n}}else i[t]=s[t];return i}static init(e,t){(e=(e=e instanceof Node?[e]:e)instanceof NodeList?[].slice.call(e):e)instanceof Array&&e.forEach(e=>{"vanillaTilt"in e||(e.vanillaTilt=new s(e,t))})}}return"undefined"!=typeof document&&(window.VanillaTilt=s).init(document.querySelector(".js-tapCoin")),s}();let wallet=document.querySelector(".js-sectionWallet"),walletDeposit=document.querySelector(".js-walletDeposit");function showWalletElement(t){[".js-walletMain",".js-walletDeposit",".js-walletOutput",".js-walletHistory"].forEach(e=>{e=wallet.querySelector(e);e&&(e.classList.contains(t)?e.classList.remove("hide"):e.classList.add("hide"))})}function openNextStep(e){var t=e.getAttribute("data-step-open"),e=(e.closest("[data-step]").classList.add("hide"),wallet.querySelector(`[data-step="${t}"]`));e&&e.classList.remove("hide"),"deposit-ton-input"==t?walletDeposit.querySelector(".js-cryptoSelect").classList.add("hide"):"deposit-ton-processing"==t?(walletDeposit.querySelector(".wallet__title").classList.add("hide"),walletDeposit.querySelector(".wallet__text").classList.add("hide")):(walletDeposit.querySelector(".wallet__title").classList.remove("hide"),walletDeposit.querySelector(".wallet__text").classList.remove("hide"),walletDeposit.querySelector(".js-cryptoSelect").classList.remove("hide"))}wallet.addEventListener("click",function(e){var e=e.target;e.matches(".js-openWalletMain")&&showWalletElement("js-walletMain"),e.matches(".js-openWalletDeposit")&&showWalletElement("js-walletDeposit"),e.matches(".js-openWalletOutput")&&showWalletElement("js-walletOutput"),e.matches(".js-openWalletHistory")&&showWalletElement("js-walletHistory"),e.matches(".js-closeDepositResult")&&(showWalletElement("js-walletMain"),walletDeposit.querySelector(".wallet__title").classList.remove("hide"),walletDeposit.querySelector(".wallet__text").classList.remove("hide"),walletDeposit.querySelector(".js-cryptoSelect").classList.remove("hide"),walletDeposit.querySelector(".js-depositResult").classList.add("hide"),walletTon.querySelector(".wallet__step").classList.remove("hide")),e.matches(".js-openWalletStep")&&openNextStep(e),e.matches(".js-walletTab")&&(e=e.value,e=wallet.querySelector(`[data-tab="${e}"]`),wallet.querySelectorAll(".js-walletContent").forEach(e=>{e.classList.add("hide")}),e.classList.remove("hide"))});let walletTon=document.querySelector(".js-walletTon");walletTon.addEventListener("click",function(t){if(t.target.matches(".js-walletBtnMax")){let e=walletTon.querySelector(".js-depositMax");var t=walletTon.querySelector(".js-depositTonBtn"),s=walletTon.querySelector(".js-depositTonBtnText");e=e.getAttribute("data-deposit-max"),e=formatDecimal(s.textContent=e),t.removeAttribute("disabled"),walletTon.querySelector(".js-walletDepositTonInput").value=e}}),walletTon.addEventListener("input",function(s){var i=s.target;if(i.matches(".js-walletDepositTonInput")){formatInputDecimal(s);let e=i.value,t=walletTon.querySelector(".js-depositMax");var s=walletTon.querySelector(".js-depositTonBtn"),n=walletTon.querySelector(".js-depositTonBtnText");t=t.getAttribute("data-deposit-max"),e>t&&(e=t,i.value=t),n.textContent=e,s.removeAttribute("disabled")}}),walletTon.addEventListener("change",function(e){e.target.matches(".js-walletDepositTonInput")&&formatDecimalResult(e)});